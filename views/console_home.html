<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Creative - Bootstrap 3 Responsive Admin Template">
    <meta name="author" content="GeeksLabs">
    <meta name="keyword" content="Creative, Dashboard, Admin, Template, Theme, Bootstrap, Responsive, Retina, Minimal">
    <link rel="shortcut icon" href="/niceadmin/img/favicon.png">

    <title>Blank | Creative - Bootstrap 3 Responsive Admin Template</title>

    <!-- Bootstrap CSS -->    
    <link href="/niceadmin/css/bootstrap.min.css" rel="stylesheet">
    <!-- bootstrap theme -->
    <link href="/niceadmin/css/bootstrap-theme.css" rel="stylesheet">
    <!--external css-->
    <!-- font icon -->
    <link href="/niceadmin/css/elegant-icons-style.css" rel="stylesheet" />
    <link href="/niceadmin/css/font-awesome.min.css" rel="stylesheet" />
    <!-- Custom styles -->
    <link href="/niceadmin/css/style.css" rel="stylesheet">
    <link href="/niceadmin/css/style-responsive.css" rel="stylesheet" />


    <!-- ueditor -->

    <script type="text/javascript" charset="utf-8" src="/ueditor/ueditor.config.js"></script>
    <script type="text/javascript" charset="utf-8" src="/ueditor/ueditor.all.min.js"> </script>
    <script type="text/javascript" charset="utf-8" src="/ueditor/lang/zh-cn/zh-cn.js"> </script>
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
      <script src="js/respond.min.js"></script>
      <script src="js/lte-ie7.js"></script>
    <![endif]-->
    </head>

    <body>
  <!-- container section start -->
    <section id="container" class="">
      <!--header start-->
      
        <header class="header dark-bg">
            <div class="toggle-nav">
                <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"><i class="icon_menu"></i></div>
            </div>

            <!--logo start-->
            <a href="index.html" class="logo">Admin</span></a>
            <!--logo end-->

<!--             <div class="nav search-row" id="top_menu">
                <ul class="nav top-menu">                    
                    <li>
                        <form class="navbar-form">
                            <input class="form-control" placeholder="Search" type="text">
                        </form>
                    </li>                    
                </ul>
            </div> -->


        </header>      
        <!--header end-->

        <!--sidebar start-->
        <aside>
            <div id="sidebar"  class="nav-collapse ">
                <!-- sidebar menu start-->
                <ul class="sidebar-menu">

                    <li class="">
                        <a class="" href="console_home">
                            <i class="icon_house_alt"></i>
                            <span>Home</span>
                        </a>
                    </li>

                    <li class="">
                        <a class="" href="console_articlelist">
                            <i class="icon_house_alt"></i>
                            <span>Articles</span>
                        </a>
                    </li>

     
<!--                   <li class="sub-menu">
                      <a href="javascript:;" class="">
                          <i class="icon_desktop"></i>
                          <span>UI Fitures</span>
                          <span class="menu-arrow arrow_carrot-right"></span>
                      </a>
                      <ul class="sub">
                          <li><a class="" href="general.html">Components</a></li>
                          <li><a class="" href="buttons.html">Buttons</a></li>
                          <li><a class="" href="grids.html">Grids</a></li>
                      </ul>
                  </li>

                  -->
              </ul>
              <!-- sidebar menu end-->
          </div>
      </aside>
      <!--sidebar end-->

      <!--main content start-->
      <section id="main-content">
          <section class="wrapper">

              <!-- page start-->

              <div>
                <ul class="nav nav-tabs">
                  <li role="presentation" id="btn-welcome"><a href="#">Welcome</a></li>
                  <li role="presentation" id="btn-about"><a href="#">Aboutme</a></li>
                  <li role="presentation" id="btn-resume"><a href="#">Resume</a></li>
                </ul>

              </div>

              <br/>

              <div>
                  <script id="editor" type="text/plain" style="width:1024px;height:500px;"></script>
                  <script type="text/javascript">

                      //实例化编辑器
                      //建议使用工厂方法getEditor创建和引用编辑器实例，如果在某个闭包下引用该编辑器，直接调用UE.getEditor('editor')就能拿到相关的实例
                      var ue = UE.getEditor('editor');


                      function isFocus(e){
                          alert(UE.getEditor('editor').isFocus());
                          UE.dom.domUtils.preventDefault(e)
                      }
                      function setblur(e){
                          UE.getEditor('editor').blur();
                          UE.dom.domUtils.preventDefault(e)
                      }
                      function insertHtml() {
                          var value = prompt('插入html代码', '');
                          UE.getEditor('editor').execCommand('insertHtml', value)
                      }
                      function createEditor() {
                          enableBtn();
                          UE.getEditor('editor');
                      }
                      function getAllHtml() {
                          alert(UE.getEditor('editor').getAllHtml())
                      }
                      function getContent() {
                          var arr = [];
                          arr.push("使用editor.getContent()方法可以获得编辑器的内容");
                          arr.push("内容为：");
                          arr.push(UE.getEditor('editor').getContent());
                          alert(arr.join("\n"));
                      }
                      function getPlainTxt() {
                          var arr = [];
                          arr.push("使用editor.getPlainTxt()方法可以获得编辑器的带格式的纯文本内容");
                          arr.push("内容为：");
                          arr.push(UE.getEditor('editor').getPlainTxt());
                          alert(arr.join('\n'))
                      }
                      function setContent(isAppendTo) {
                          var arr = [];
                          arr.push("使用editor.setContent('欢迎使用ueditor')方法可以设置编辑器的内容");
                          UE.getEditor('editor').setContent('欢迎使用ueditor', isAppendTo);
                          alert(arr.join("\n"));
                      }
                      function setDisabled() {
                          UE.getEditor('editor').setDisabled('fullscreen');
                          disableBtn("enable");
                      }

                      function setEnabled() {
                          UE.getEditor('editor').setEnabled();
                          enableBtn();
                      }

                      function getText() {
                          //当你点击按钮时编辑区域已经失去了焦点，如果直接用getText将不会得到内容，所以要在选回来，然后取得内容
                          var range = UE.getEditor('editor').selection.getRange();
                          range.select();
                          var txt = UE.getEditor('editor').selection.getText();
                          alert(txt)
                      }

                      function getContentTxt() {
                          var arr = [];
                          arr.push("使用editor.getContentTxt()方法可以获得编辑器的纯文本内容");
                          arr.push("编辑器的纯文本内容为：");
                          arr.push(UE.getEditor('editor').getContentTxt());
                          alert(arr.join("\n"));
                      }
                      function hasContent() {
                          var arr = [];
                          arr.push("使用editor.hasContents()方法判断编辑器里是否有内容");
                          arr.push("判断结果为：");
                          arr.push(UE.getEditor('editor').hasContents());
                          alert(arr.join("\n"));
                      }
                      function setFocus() {
                          UE.getEditor('editor').focus();
                      }
                      function deleteEditor() {
                          disableBtn();
                          UE.getEditor('editor').destroy();
                      }
                      function disableBtn(str) {
                          var div = document.getElementById('btns');
                          var btns = UE.dom.domUtils.getElementsByTagName(div, "button");
                          for (var i = 0, btn; btn = btns[i++];) {
                              if (btn.id == str) {
                                  UE.dom.domUtils.removeAttributes(btn, ["disabled"]);
                              } else {
                                  btn.setAttribute("disabled", "true");
                              }
                          }
                      }
                      function enableBtn() {
                          var div = document.getElementById('btns');
                          var btns = UE.dom.domUtils.getElementsByTagName(div, "button");
                          for (var i = 0, btn; btn = btns[i++];) {
                              UE.dom.domUtils.removeAttributes(btn, ["disabled"]);
                          }
                      }
                  </script>
              </div>
              <!-- page end-->
          </section>
      </section>
      <!--main content end-->
  </section>
  <!-- container section end -->
    <!-- javascripts -->
    <script src="/niceadmin/js/jquery.js"></script>
    <script src="/niceadmin/js/bootstrap.min.js"></script>
    <!-- nice scroll -->
    <script src="/niceadmin/js/jquery.scrollTo.min.js"></script>
    <script src="/niceadmin/js/jquery.nicescroll.js" type="text/javascript"></script><!--custome script for all page-->
    <script src="/niceadmin/js/scripts.js"></script>


    <script type="text/javascript">
      $(document).ready(function(){

        // get content for different part:

        var cur_name = "";

        $("#btn-welcome").click(function(){
          setEditor("welcome");
          cur_name = welcome;
          $("#editor").show();
          $(this).addClass('active');
          $("#btn-about").removeClass('active');
          $("#btn-resume").removeClass('active');
        });

        $("#btn-about").click(function(){
          cur_name = about;
          setEditor("about");
          $("#editor").show();
          $(this).addClass('active');
          $("#btn-welcome").removeClass('active');
          $("#btn-resume").removeClass('active');
        });

        $("#btn-resume").click(function(){
          cur_name = resume;
          setEditor("resume");
          $("#editor").show();
          $(this).addClass('active');
          $("#btn-about").removeClass('active');
          $("#btn-welcome").removeClass('active');
        });

        function setEditor(name){
          $.ajax({
            url:'/home/get',
            method: 'post',
            dataType: 'json',
            data:{
              name: name,
            },
            success:function(data){
              console.log(data);
              UE.getEditor('editor').setContent(data[0].content);
            },
          });
        }


        // update for different part:
        
        $("#btn-save").click(function(){
          
          $.ajax({
            url:'/home/update',
            method: 'post',
            dataType: 'json',
            data:{
              name: name,
              content: content,
            },
            success: function(data){
              console.log("data");
            },
          });
        });
        
      })
    </script>



  </body>
</html>
